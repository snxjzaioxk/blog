## Jekyll 博客部署到 GitHub Pages 并使用 Cloudflare 域名解析的完整教程



本教程旨在为您提供一个从零开始（或从现有项目继续）搭建和部署 Jekyll 博客到 GitHub Pages 的详细指南，并结合 Cloudflare 配置自定义域名解析。教程中将整合您在实践中遇到的常见问题及其全面的解决方案，力求详细且实用，助您轻松创建和维护个人博客。



### 前言与问题回顾



在部署 Jekyll 博客的过程中，许多用户会遇到以下常见挑战：

1. **Git 连接 GitHub 失败**：例如 `fatal: unable to access 'https://github.com/...': Failed to connect to github.com port 443` 或 `Recv failure: Connection was reset`。这是阻止内容上传到 GitHub 的核心问题，必须优先解决。
2. **Jekyll 项目结构混乱**：`_posts` 目录中包含 `_site`、`.jekyll-cache` 等不应存在的文件/目录，以及文章文件名中包含中文或乱码字符。
3. **Jekyll 本地预览异常**：在 `http://localhost:4000` 访问时，页面显示 `Index of /`（目录列表）而不是博客主页，或出现重复标题、内容混乱、图片不显示等布局问题。
4. **图片加载问题**：在 Markdown 文件中使用本地文件路径引用图片，导致博客部署到线上后图片无法显示。
5. **Git 命令使用问题**：例如 `git commit` 后未 `git push`，或对 `git status` 输出理解不准确。

本教程将围绕这些问题提供详细的解决办法，并结合 GitHub Pages 和 Cloudflare 的最佳实践。

------



### 第一阶段：本地 Jekyll 项目准备与优化



在将博客部署到线上之前，确保本地 Jekyll 项目结构规范、配置正确至关重要。



#### 1. 清理和检查 Jekyll 项目结构



不规范的项目结构是导致 Jekyll 构建失败和本地预览异常的常见原因。

- **停止 Jekyll 服务器**：如果您的 `bundle exec jekyll serve` 命令正在运行，请在命令行窗口中按 `Ctrl + C` 停止它。
- **清理 `_site` 和 `.jekyll-cache`**：
  - 导航到您的博客根目录（例如 `C:\Users\Aliom\snxjzaioxk.github.io\`）。
  - **手动删除** `_site` 和 `.jekyll-cache` 文件夹。这两个文件夹是 Jekyll 构建输出和缓存，不应存在于版本控制中，也不应手动放置在 `_posts` 目录下。
  - **检查 `_posts` 目录**：导航到 `C:\Users\Aliom\snxjzaioxk.github.io\_posts\`。
    - **彻底删除** `_posts` 目录下任何不应该存在的文件夹，例如 `2025/` 或其他看起来像文件夹的乱码名称。
- **重命名包含中文或乱码的文件**：
  - 在 `_posts` 目录中，找到所有文件名中包含中文或显示为乱码的文件（例如 `2025-07-11-变量和常量.markdown`）。
  - **将其重命名为只包含英文、数字和连字符的格式**（例如 `2025-07-11-variables-and-constants.md`）。确保文件扩展名为 `.md` 或 `.markdown`。Git 命令行中显示的乱码文件路径也是这个问题的体现。



#### 2. 检查并优化 `_config.yml` 文件



`_config.yml` 是 Jekyll 博客的核心配置文件。正确的配置能确保博客正常运行和显示。

- **打开 `_config.yml`**：在您的博客根目录下找到并用文本编辑器打开 `_config.yml` 文件。

- **确认或修改以下基本配置项**：

  YAML

  ```
  title: Aliom个人博客 # 您的博客标题，只在此处定义一次
  email: your-email@example.com # 您的邮箱地址
  description: >- # 您的博客描述，用于SEO和网站头部
    这是Aliom的个人博客，分享技术、生活和学习心得。
  baseurl: "" # **非常重要**：如果您的博客部署在域名根目录（例如 `yourdomain.com` 或 `用户名.github.io`），保持为空字符串 `""`。如果部署在子目录（例如 `yourdomain.com/blog`），则填写 `/blog`。
  url: "http://localhost:4000" # **非常重要**：本地测试时使用 `http://localhost:4000`。部署到 GitHub Pages 并绑定自定义域名后，应改为您的自定义域名（例如 `https://yourdomain.com` 或 `https://www.yourdomain.com`）。
  timezone: Asia/Shanghai # 设置时区，确保文章日期正确显示
  repository: snxjzaioxk/snxjzaioxk.github.io # GitHub 仓库名，格式为 `用户名/仓库名`
  
  # 构建设置
  markdown: kramdown # Markdown 解析器，Jekyll 默认推荐 kramdown
  theme: minima # 您使用的主题名称，例如 `minima`。如果您没有选择主题，可能不存在。
  plugins:
    - jekyll-feed # 用于生成 RSS 订阅
    - jekyll-seo-tag # 强烈推荐，用于生成更好的 SEO 元数据
    # ... 其他您使用的插件，请确保已安装对应的 gem
  
  # 排除文件：这些文件和目录不会被 Jekyll 处理
  exclude:
    - Gemfile
    - Gemfile.lock
    - node_modules
    - vendor/bundle/
    - vendor/cache/
    - vendor/gems/
    - vendor/ruby/
    # ... 根据您的项目需要添加
  ```

- **保存 `_config.yml`**。



#### 3. 优化 `index.md` (或 `index.html`) 文件



博客根目录下的主页文件（通常是 `index.md` 或 `index.html`）应保持简洁，主要负责调用布局。

- **打开 `index.md` (或 `index.html`)**：在您的博客根目录找到并打开它。

- **确保其内容如下**：

  YAML

  ```
  ---
  layout: home # 确保这里是 'home' 或您主页布局的名称，对应 _layouts 目录下的文件
  title: 首页 # 这个标题只用于此页面，不会和 `site.title` 冲突，因为它会被布局文件中的 `page.title` 引用
  ---
  ```

- **保存文件**。



#### 4. 优化布局文件 (`_layouts/home.html` 或 `_layouts/default.html`)



这是解决页面重复标题、重复“Posts”以及其他布局混乱问题的核心。

- **打开布局文件**：导航到 `C:\Users\Aliom\snxjzaioxk.github.io\_layouts\`。打开 `home.html` (如果 `index.md` 使用 `home` 布局) 或 `default.html` (如果 `index.md` 使用 `default` 布局)。

- **将文件内容替换为以下优化后的代码**：

  HTML

  ```
  <!DOCTYPE html>
  <html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ site.title | escape }}</title> {# 页面标题，从 _config.yml 获取，只显示一次 #}
    {# 引入您的主 CSS 文件，通常在 assets 文件夹下 #}
    <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
    {# RSS 订阅链接 #}
    <link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}" href="{{ "/feed.xml" | relative_url }}">
  </head>
  <body>
    <header class="site-header">
      <div class="wrapper">
        {# 顶部导航/博客名称，作为主页链接，只显示一次 #}
        <a class="site-title" href="{{ "/" | relative_url }}">{{ site.title | escape }}</a>
      </div>
    </header>
    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home">
          {# 页面主标题，通常是您的博客名称 #}
          <h1>{{ site.title }}</h1>
          {# 文章列表标题，只显示一次 #}
          <h2 class="post-list-heading">Posts</h2>
          <ul class="post-list">
            {% for post in site.posts %}
            <li>
              <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>
              <h3>
                <a class="post-link" href="{{ post.url | relative_url }}">
                  {{ post.title | escape }}
                </a>
              </h3>
              {# 显示文章摘要，如果 _config.yml 中 show_excerpts: true #}
              {% if site.show_excerpts %}
                {{ post.excerpt }}
              {% endif %}
            </li>
            {% endfor %}
          </ul>
          {# RSS 订阅链接 #}
          <p class="rss-subscribe">subscribe via <a href="{{ "/feed.xml" | relative_url }}">RSS</a></p>
        </div>
      </div>
    </main>
    <footer class="site-footer">
      <div class="wrapper">
        {# 底部信息，通常也从 _config.yml 获取 #}
        <h2 class="footer-heading">{{ site.title | escape }}</h2>
        <p>{{ site.description | escape }}</p>
        {% if site.email %}
        <ul class="contact-list">
          <li>{{ site.email }}</li>
          {% if site.github_username %}
          <li>
            <a href="https://github.com/{{ site.github_username }}">
              <span>{{ site.github_username }}</span>
            </a>
          </li>
          {% endif %}
        </ul>
        {% endif %}
      </div>
    </footer>
  </body>
  </html>
  ```

- **修改说明**：

  - 使用了 `<header>`、`<main>` 和 `<footer>` 等语义化 HTML5 标签来定义网站的结构，有助于 SEO 和可访问性。
  - `{{ site.title | escape }}` 会从 `_config.yml` 文件中获取 `title` 值并安全显示，**这是推荐的显示网站标题方式，且只显示一次**。
  - **删除了所有硬编码的重复标题和 URL 输出**，这些是造成重复和混乱的根本原因。
  - 保留了文章列表的循环 (`{% for post in site.posts %}`) 和 RSS 订阅链接。

- **保存文件**。



#### 5. 清理 Jekyll 缓存并重新运行服务器



完成文件修改后，需要清除 Jekyll 的旧缓存并重新构建，以查看更改。

1. **在您的博客根目录**（例如 `C:\Users\Aliom\snxjzaioxk.github.io\`）运行：

   Bash

   ```
   bundle exec jekyll clean
   ```

2. **然后再次运行 Jekyll 服务器**：

   Bash

   ```
   bundle exec jekyll serve
   ```

3. **打开浏览器访问 `http://localhost:4000`**。现在您的博客页面应该更加整洁，只显示一个主标题，并且文章列表下方不应该有重复的“Posts”。

------



### 第二阶段：GitHub 仓库设置与 Git 操作



这一阶段将指导您如何在 GitHub 上设置仓库，并将本地的 Jekyll 项目与远程仓库关联，进行版本控制和部署。



#### 1. GitHub 账号与仓库创建



- **登录 GitHub**：访问 [GitHub 官网](https://github.com/) 并登录您的账号。
- **创建新仓库**：点击页面右上角的 “+” 号，然后选择 “New repository”。
- **配置仓库信息**：
  - **Repository name (仓库名称)**：**这是最关键的一步**。对于个人或组织页面，仓库名称**必须**是 `你的用户名.github.io`。例如，如果您的 GitHub 用户名是 `example`，那么仓库名称就是 `example.github.io`。
  - **Description (描述)**：可选，可以填写您的博客描述。
  - **Public (公开)**：请确保选择 `Public`，因为 GitHub Pages 不支持从私有仓库免费部署页面。
  - **Add a README file (添加 README 文件)**：建议勾选此选项。
  - **Choose a license (选择许可证)**：可选，通常个人博客可以选择 MIT 许可证。
- **创建仓库**：点击 “Create repository” 按钮。



#### 2. GitHub Pages 设置与主题选择



创建仓库后，配置 GitHub Pages。

1. **进入您的 GitHub Pages 仓库**：导航到您刚才创建的 `你的用户名.github.io` 仓库。
2. **进入仓库设置**：点击仓库顶部的 “Settings” 选项卡。
3. **找到 GitHub Pages 设置**：在左侧导航栏中，点击 “Pages”。
4. **选择分支**：在 “Branch” 部分，确保选择 `main` 分支（或您用于部署的分支）。
5. **选择主题 (推荐新手)**：点击 “Choose a theme” 按钮。您可以浏览并选择一个喜欢的主题。选择后，GitHub 会自动为您创建一个 `_config.yml` 文件和一些初始文件。
6. **提交更改**：GitHub 会自动创建一个 pull request 或直接将主题文件添加到您的仓库。确认并合并这些更改。



#### 3. 本地安装 Ruby 和 Jekyll



Jekyll 是一个 Ruby Gem，需要在本地安装 Ruby 环境才能运行。

- **macOS / Linux**：在终端运行：

  Bash

  ```
  sudo gem install jekyll bundler
  ```

- **Windows**：

  - 访问 [RubyInstaller for Windows](https://rubyinstaller.org/downloads/) 下载并安装。安装过程中请**勾选 “Add Ruby executables to your PATH”**。

  - 安装完成后，打开命令提示符 (CMD) 或 PowerShell，运行：

    Bash

    ```
    gem install jekyll bundler
    ```

- 如果遇到问题，可以参考 Jekyll 官方安装指南：[Jekyll Installation](https://jekyllrb.com/docs/installation/)。



#### 4. 创建新的 Jekyll 站点与本地预览 (如果从零开始)



如果您已经有了 Jekyll 项目，可以跳过此步。

1. **创建新的 Jekyll 站点**：打开终端或命令提示符，导航到您想要创建博客的目录，然后运行：

   Bash

   ```
   jekyll new my-blog  # 将 my-blog 替换为您的博客目录名
   cd my-blog
   ```

2. **安装项目依赖**：

   Bash

   ```
   bundle install
   ```

3. **本地预览博客**：

   Bash

   ```
   bundle exec jekyll serve
   ```

   然后打开浏览器访问 `http://localhost:4000` (或控制台提示的地址) 即可预览您的博客。



#### 5. 将本地博客文件推送到 GitHub 仓库



这是将您本地的 Jekyll 项目同步到 GitHub 的关键步骤。

1. **初始化 Git 仓库**：如果您的本地博客目录还没有 Git 仓库（即没有 `.git` 隐藏文件夹），需要先初始化：

   Bash

   ```
   git init
   ```

2. **关联远程仓库**：将本地仓库与您在 GitHub 上创建的 `你的用户名.github.io` 远程仓库关联：

   Bash

   ```
   git remote add origin https://github.com/你的用户名/你的用户名.github.io.git
   ```

   请将 `你的用户名` 替换为您的实际 GitHub 用户名。

3. **添加所有文件到暂存区**：

   Bash

   ```
   git add .
   ```

   `git add .` 会将所有新建、修改和删除的文件都添加到暂存区。您也可以指定文件或文件夹：`git add _posts/new-article.md`。

   - **联想预测**：在执行 `git add .` 之前，您可以使用 `git status` 命令来查看当前工作目录和暂存区的状态，了解哪些文件被修改、新增或删除，哪些文件还未被 Git 追踪。这有助于您决定要暂存哪些更改。

4. **提交更改到本地仓库**：

   Bash

   ```
   git commit -m "Initial Jekyll blog setup" # 替换为有意义的提交信息
   ```

   提交信息应简洁明了，概括本次更改的内容。例如：“Add first blog post: Hello World”、“Update blog title in _config.yml”等。

   - **联想预测**：良好的提交信息习惯有助于您和团队成员理解项目历史，方便后续的代码回溯和管理。

5. **推送到 GitHub**：

   Bash

   ```
   git branch -M main # 将主分支重命名为 main (如果不是)
   git push -u origin main
   ```

   `origin` 是远程仓库的别名，`main` 是要推送到的远程分支名称。请确保与您的 GitHub 仓库主分支名称一致。

   - **凭据输入**：如果系统弹出窗口要求输入 GitHub 凭据，**请使用个人访问令牌 (Personal Access Token, PAT) 作为密码**。GitHub 已不再支持直接使用账号密码进行 Git 操作。
     - **PAT 生成**：登录 GitHub -> Settings -> Developer settings -> Personal access tokens -> Tokens (classic) -> Generate new token。给它一个描述，并勾选 `repo` 权限。生成后复制下来，它就是您的“密码”。



#### 6. GitHub Actions 自动化部署工作流 (`jekyll-gh-pages.yml`)



GitHub Actions 是 GitHub 提供的自动化 CI/CD 服务，它会自动帮您构建和部署 Jekyll 博客。

- **工作原理**：当您将博客内容推送到 GitHub 仓库（通常是 `main` 分支）时，GitHub Actions 中 `.github/workflows/` 目录下的 `jekyll-gh-pages.yml` 文件会**自动触发**。它会按照文件中定义的步骤，构建您的 Jekyll 博客，然后将生成的静态文件部署到 GitHub Pages，从而使您的博客可以被访问。
- **配置检查 (`branches: ["main"]`)**：
  - 在 `.github/workflows/jekyll-gh-pages.yml` 文件中，找到 `on: push: branches: ["main"]`。
  - **确认您的 GitHub 仓库的默认分支就是 `main`**。对于新创建的仓库，GitHub 默认使用 `main` 作为主分支，所以大概率是匹配的。
  - 如果您的仓库主分支不是 `main`（例如，有些老仓库可能叫 `master`），那么您需要将 `["main"]` 修改为 `["master"]`（或您的实际主分支名称）。
- **通常无需修改**：对于绝大多数标准的 Jekyll 博客部署，您通常不需要手动修改这个文件，GitHub 在您通过 “Choose a theme” 等方式设置 GitHub Pages 时会自动生成正确配置。

------



### 第三阶段：Cloudflare 域名解析配置



使用 Cloudflare 不仅可以为您的自定义域名提供免费的 CDN 加速和 HTTPS 证书，还能增强安全性。



#### 1. Cloudflare 账号与添加站点



- **登录 Cloudflare**：访问 [Cloudflare 官网](https://www.cloudflare.com/) 并登录。
- **添加站点**：点击页面右上角的 “Add a Site” 按钮。
- **输入您的域名**：输入您购买的自定义域名（例如 `example.com`），然后点击 “Add Site”。
- **选择计划**：选择 “Free” 计划，它已经包含了我们所需的所有功能。点击 “Continue”。
- **扫描 DNS 记录**：Cloudflare 会自动扫描您域名当前的 DNS 记录。等待扫描完成，然后点击 “Continue”。



#### 2. 更改域名服务器



这是将域名管理权委托给 Cloudflare 的关键步骤。

1. **获取 Cloudflare 的域名服务器**：在 Cloudflare 设置过程中，您会看到两个 Cloudflare 提供的域名服务器（例如 `grace.ns.cloudflare.com` 和 `nick.ns.cloudflare.com`）。请记录下这两个地址。
2. **登录您的域名注册商**：访问您购买域名的注册商（如 GoDaddy, Namecheap 等）的网站，并登录您的账号。
3. **找到域名管理/DNS 设置**：找到您域名的管理页面，通常会有“DNS 管理”、“域名服务器”或类似的选项。
4. **更改域名服务器**：将您域名注册商提供的默认域名服务器替换为在 Cloudflare 获得的两个域名服务器。保存更改。
5. **回到 Cloudflare**：在 Cloudflare 页面上，点击 “Done, check nameservers”。



#### 3. 配置 DNS 记录 (A 记录, CNAME 记录)



在 Cloudflare 中添加正确的 DNS 记录，指向 GitHub Pages 服务器。

1. **进入 Cloudflare DNS 设置**：在 Cloudflare 仪表盘中，点击您的域名，然后点击左侧导航栏的 “DNS” 选项卡。
2. **删除旧的 DNS 记录** (可选但推荐)：删除任何与您的网站相关的旧的 A 记录或 CNAME 记录，以避免冲突。
3. **添加新的 DNS 记录**：点击 “Add record” 按钮，添加以下记录：
   - **四条 A 记录 (用于裸域名 `yourdomain.com`)**：
     - Type: `A`
     - Name: `@`
     - IPv4 address: `185.199.108.153`
     - Proxy status: `Proxied` (橙色云朵图标)
     - （重复此步骤，将 IPv4 address 分别替换为 `185.199.109.153`, `185.199.110.153`, `185.199.111.153`。这些是 GitHub Pages 目前使用的 IP 地址）
   - **一条 CNAME 记录 (用于 `www` 子域名)**：
     - Type: `CNAME`
     - Name: `www`
     - Target: `你的用户名.github.io` (例如 `example.github.io`)
     - Proxy status: `Proxied` (橙色云朵图标)
4. 点击 “Save” 保存每条记录。



#### 4. GitHub Pages 自定义域名设置与 HTTPS 强制



最后一步是在 GitHub Pages 中配置自定义域名并启用 HTTPS。

1. **回到 GitHub**：登录 GitHub 并进入您的 `你的用户名.github.io` 仓库。

2. **进入仓库设置**：点击顶部导航栏的 “Settings”。

3. **找到 Pages 设置**：在左侧导航栏中，点击 “Pages”。

4. **配置 Custom domain (自定义域名)**：在 “Custom domain” 部分，输入您的自定义域名（例如 `example.com`），然后点击 “Save”。

5. **创建并推送 `CNAME` 文件**：

   - 在您的本地博客的**根目录**创建名为 `CNAME` 的**纯文本文件**（没有文件扩展名）。

   - 文件中**只写入您的自定义域名**（例如 `www.yourdomain.com` 或 `yourdomain.com`），无其他内容或空白行。

   - 将 `CNAME` 文件提交并推送到 GitHub：

     Bash

     ```
     git add CNAME
     git commit -m "Add CNAME file for custom domain"
     git push origin main
     ```

6. **检查 Enforce HTTPS (强制 HTTPS)**：输入域名并保存后，等待 GitHub 自动颁发 SSL 证书。通常需要几分钟到几小时。一旦证书颁发成功，“Enforce HTTPS”选项会变为可用。**请务必勾选此选项**，这样您的网站将始终通过 HTTPS 访问，提供更好的安全性和 SEO。

------



### 第四阶段：常见问题及高级故障排除



即使严格按照上述步骤操作，部署过程中仍可能遇到各种问题。本节将深入探讨最常见的故障及其解决方案。



#### 1. Git 连接 GitHub 失败 (最核心问题)



`fatal: unable to access 'https://github.com/...': Failed to connect to github.com port 443` 或 `Recv failure: Connection was reset` 错误是部署过程中最令人沮丧的问题之一，通常与网络连接相关。

- **检查网络连接稳定性**：

  - 尝试访问其他网站，确认您的网络连接稳定且没有中断。
  - **联想预测**：不稳定或间歇性网络连接可能导致大型文件传输（如 Git Push）中断。

- **重试 `git push` 命令**：

  - 有时候这只是一个临时的网络波动或 GitHub 服务器的短暂繁忙，重试一次可能就成功了。
  - **联想预测**：对于偶发性错误，重试是最简单有效的初步排查方法。

- **临时禁用防火墙/杀毒软件**：

  - 您的电脑上的 Windows Defender 防火墙、第三方防火墙、杀毒软件或网络安全软件可能正在阻止 Git 访问 GitHub。
  - **操作**：尝试临时关闭您的安全软件，然后立即执行 `git push origin main`。
  - **重要提示**：测试完成后，**请务必重新启用它们**以确保电脑安全。如果禁用后成功，您需要将 Git 或您的终端/命令提示符程序添加到防火墙或杀毒软件的信任列表（白名单）中。
  - **联想预测**：安全软件的深度包检测（DPI）或网络过滤功能有时会误判 Git 的加密连接，导致连接中断。

- **检查网络代理或 VPN 设置**：

  - 如果您正在使用代理服务器（例如公司/学校网络中的代理，或科学上网工具），它可能配置不正确或阻止了对 GitHub 的连接。

  - **检查 Git 的代理配置**：

    Bash

    ```
    git config --global http.proxy
    git config --global https.proxy
    ```

    如果显示有代理地址，请确认代理是否正常工作。

  - **清除 Git 的代理配置 (如果不需要代理)**：

    Bash

    ```
    git config --global --unset http.proxy
    git config --global --unset https.proxy
    ```

  - **代理模式 (全局 vs 规则代理)**：

    - **全局代理**：会将所有网络流量都通过代理服务器。如果代理服务器本身有问题，或者它没有正确配置以允许 Git 流量，就会导致连接失败。
      - **联想预测**：虽然方便，但全局代理可能带来性能损失和兼容性问题，尤其对于对延迟敏感的服务。
    - **规则代理**：根据预设规则判断流量是否通过代理。您需要确认您的规则是否允许 `github.com` 的流量通过代理（如果需要代理才能访问 GitHub），或者是否将其设置为直接连接（如果您可以直连 GitHub）。如果规则配置错误，例如将 GitHub 流量直接连接而实际上需要代理才能访问，或者代理规则没有生效，那么也会出现连接失败。
      - **联想预测**：规则代理更智能高效，但需要精心维护规则列表，否则可能出现“漏网之鱼”或不必要的绕道。

  - **操作**：尝试**临时关闭代理**来测试能否直连 GitHub，或者**切换代理模式**（例如，从规则模式切换到全局模式，或从全局模式切换到不走代理）来测试。

- **DNS 解析问题**：

  - 如果 `github.com` 无法正确解析为 IP 地址，也会导致无法连接。
  - **刷新 DNS 缓存**：在命令提示符中运行 `ipconfig /flushdns`。
  - **尝试更换 DNS 服务器**：将电脑的 DNS 设置更改为公共 DNS（例如 Google DNS：8.8.8.8, 8.8.4.4 或 Cloudflare DNS：1.1.1.1, 1.0.0.1）。
  - **联想预测**：ISP 提供的 DNS 服务器可能存在缓存问题或解析延迟，更换为公共 DNS 可以提高解析效率和稳定性。

- **尝试不同网络**：

  - 连接到不同的 Wi-Fi 网络，或者使用手机热点连接电脑，然后再次尝试 `git push origin main`。
  - 如果换个网络就能成功，那基本可以确定是您当前网络环境的限制（比如公司或学校的防火墙策略）。
  - **联想预测**：这能有效判断问题是出在本地设备配置，还是网络层面（路由器、ISP）。

- **更改 Git 的 SSL 后端**：

  - 针对 Windows 系统，尝试运行：

    Bash

    ```
    git config --global http.sslBackend schannel # 切换到 Windows 原生 SSL 库
    # 如果不行，尝试
    # git config --global http.sslBackend openssl # 切换到 OpenSSL
    ```

  - 设置后再次尝试 `git push`。

  - **联想预测**：不同的 SSL 库在处理加密连接时可能表现不同，切换有助于解决特定环境下的兼容性问题。

- **切换到 SSH 进行 Git 操作 (高级)**：

  - 如果 HTTPS 连接持续有问题，可以生成 SSH 密钥对，并将公钥添加到 GitHub 账号，然后将远程仓库 URL 从 HTTPS 切换为 SSH：

    Bash

    ```
    git remote set-url origin git@github.com:你的用户名/你的仓库名.git
    ```

  - **联想预测**：SSH 提供了另一种更安全、有时更稳定的连接方式，尤其在网络环境复杂时。

- **检查 GitHub Status Page**：

  - 访问 [GitHub Status](https://www.githubstatus.com/) 页面，确认所有 GitHub 服务是否正常运行。如果 GitHub 服务本身出现问题，所有连接都会失败。
  - **联想预测**：在开始复杂排查前，确认服务方状态是第一步，避免无效劳动。



#### 2. DNS 传播延迟



- **问题**：更改域名服务器或 DNS 记录后，可能需要一些时间（几分钟到 24 小时）才能全球生效。
- **解决**：您可以使用 [DNS Checker](https://dnschecker.org/) 等在线工具来检查您的 DNS 记录是否已更新。
- **联想预测**：DNS 传播是一个全球性的过程，受各地 DNS 服务器缓存更新周期的影响，耐心等待是必要的。



#### 3. GitHub Pages 部署失败



- **问题**：内容推送到 GitHub 后，线上博客未更新或显示错误。
- **解决**：
  - 检查您的仓库名称是否正确 (`你的用户名.github.io`)。
  - 检查您的 GitHub Actions 构建日志（在仓库的 “Actions” 选项卡下）是否有错误。
  - 确保您的 Jekyll 或其他静态网站生成器配置正确，特别是 `_config.yml` 文件。
- **联想预测**：构建日志是排查部署失败的“黑匣子”，它会精确指出哪个环节出现了问题。



#### 4. HTTPS 问题



- **问题**：网站无法通过 HTTPS 访问，或出现证书错误。
- **解决**：
  - 确保在 GitHub Pages 设置中勾选了 “Enforce HTTPS”。
  - 如果证书长时间未颁发，可能是 DNS 配置问题，检查 Cloudflare 的 A 记录是否正确指向 GitHub Pages IP。
  - 确保 Cloudflare 的 DNS 记录代理状态是 “Proxied” (橙色云朵图标)。
- **联想预测**：HTTPS 不仅提供安全性，也是现代 Web 的标准，对 SEO 有积极影响。Cloudflare 提供的免费 SSL/TLS 证书极大地简化了 HTTPS 的部署。



#### 5. Cloudflare 缓存问题



- **问题**：如果您更新了博客内容，但网站没有显示最新内容，可能是 Cloudflare 缓存了旧的内容。
- **解决**：您可以在 Cloudflare 仪表盘的 “Caching” -> “Configuration” 选项卡下点击 “Purge Everything” 来清除所有缓存。
- **联想预测**：CDN 缓存是提高网站访问速度的关键，但在内容更新后，需要手动或通过自动化方式清除缓存，以确保用户能看到最新版本。



#### 6. 图片加载问题



- **问题**：在本地可以显示图片，但部署到 GitHub Pages 后图片不显示。

- **原因**：通常是图片路径引用不正确，使用了本地文件系统路径而不是网站的相对 URL 路径。

- **正确做法**：

  - 将图片放在博客项目的 `assets` 或 `images` 目录下（例如 `C:\Users\Aliom\snxjzaioxk.github.io\assets\image12.png`）。

  - 在 Markdown 或 HTML 文件中，使用**相对网站根目录的 URL 路径**，并结合 Jekyll 的 `relative_url` 过滤器。

  - **Markdown 语法示例**：

    Markdown

    ```
    ![图片描述]( {{ "/assets/image12.png" | relative_url }} )
    ```

  - **HTML 语法示例**：

    HTML

    ```
    <img src="{{ "/assets/image12.png" | relative_url }}" style="zoom:67%;" />
    ```

- **本地预览的重要性**：您在本地修改文件后，**首先应该在本地预览** (`bundle exec jekyll serve`)，确认图片已经正确显示出来。这能让您在部署前发现并解决路径问题。

- **联想预测**：统一的资源管理策略（如将所有图片放在 `assets` 目录）和正确的路径引用是确保静态网站资源正确加载的关键。



#### 7. 本地开发与预览的重要性



- **建议**：虽然可以在 GitHub 上直接编辑文件，但对于更复杂的修改或大量写作，**强烈建议在本地电脑上安装 Jekyll 环境**，并在本地进行开发和预览 (`bundle exec jekyll serve`)。
- **优势**：这样可以实时看到效果，避免频繁提交到 GitHub 等待部署，显著提高开发效率和调试体验。
- **联想预测**：本地开发环境是现代 Web 开发的基石，能够提供即时反馈，降低试错成本。

希望这份详细的教程能帮助您和更多有需要的人成功搭建和维护 Jekyll 博客！如果您在实践中遇到任何具体问题，欢迎随时提出。